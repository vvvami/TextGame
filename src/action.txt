import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

public class net.vami.game.Action {
    private List<String> synonyms;
    public static List<net.vami.game.Action> actions = new ArrayList<>();
    public static HashMap<String, net.vami.game.Action> synonymToAction = new HashMap<>();

    public net.vami.game.Action() {
        this.synonyms = new ArrayList<>();
        actions.add(this);
    }

    public List<String> getSynonyms(){
        return synonyms;
    }

    public void addSynonym(String synonym) throws Exception {

        if (synonymToAction.put(synonym, this) != null) {
            throw new Exception("Duplicate synonym: " + synonym);
        }

        synonyms.add(synonym);
    }

    public static final net.vami.game.Action attack = new net.vami.game.Action();
    public static final net.vami.game.Action movement = new net.vami.game.Action();
    public static final net.vami.game.Action use = new net.vami.game.Action();
    public static final net.vami.game.Action take = new net.vami.game.Action();
    public static final net.vami.game.Action equip = new net.vami.game.Action();
    public static final net.vami.game.Action ability = new net.vami.game.Action();

    public static void actionSynonymInitializer() throws Exception {
        net.vami.game.Action.actionSynonymInitializer();
        net.vami.game.Action.moveSynonymInitializer();
        net.vami.game.Action.useSynonymInitializer();
        net.vami.game.Action.abilitySynonymInitializer();
        net.vami.game.Action.takeSynonymInitializer();
    }


    private static void attackSynonymInitializer() throws Exception {
        attack.addSynonym("attack");
        attack.addSynonym("strike");
        attack.addSynonym("kick");
        attack.addSynonym("punch");
        attack.addSynonym("hurt");
        attack.addSynonym("hit");
        attack.addSynonym("kill");
    }

    private static void moveSynonymInitializer() throws Exception {
        movement.addSynonym("walk");
        movement.addSynonym("run");
        movement.addSynonym("escape");
        movement.addSynonym("flee");
        movement.addSynonym("go");
    }

    private static void useSynonymInitializer() throws Exception {
        use.addSynonym("use");
        use.addSynonym("utilize");
        use.addSynonym("activate");
        use.addSynonym("drink");
        use.addSynonym("eat");
    }

    private static void abilitySynonymInitializer() throws Exception {
        ability.addSynonym("ability");
        ability.addSynonym("cast");
        ability.addSynonym("draw");
        ability.addSynonym("conjure");
    }

    private static void takeSynonymInitializer() throws Exception {
        take.addSynonym("take");
        take.addSynonym("steal");
        take.addSynonym("grab");
        take.addSynonym("pocket");
    }


    public static void attackAction(net.vami.interactables.Entity target, net.vami.interactables.Entity source) {
        float damage = source.getBaseDamage();
        net.vami.game.DamageType type = source.getDefaultDamageType();

        if (source.hasEquippedItem()) {
            damage += source.getEquippedItem().getDamageAmount();
            type = source.getEquippedItem().getDamageType();
        }

        System.out.printf("%s was hit by %s! %n", target.getDisplayName(), source.getDisplayName());
        target.hurt(source, damage, type);
    }

    public static void abilityAction(net.vami.interactables.Entity target, net.vami.interactables.Entity source) {
        System.out.println(source.getDisplayName() + " casts " + source.getAbility().getName()
                + " on " + target.getDisplayName() + "!");
        new net.vami.game.AbilityInstance(source.getAbility(), target, source);
    }

}
